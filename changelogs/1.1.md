# Commands-Collection v1.1

Welcome to the first release of Commands-Collection!

This release brings a lot of changes since the usage of GetOpt:

## Rewrote CustCustApp

Now it uses the getopt function from the RTL, resulting a cleaner code for all programs.
You don't have to derive any class just to parse arguments anymore - just create two functions, assign their addresses to two custcustapp's variables, add options/parameters, and enjoy.
(Don't forget to run `custcustapp.Start`)

Custcustapp now also writes down the program+Commands-Collection version+Git revision with `-V` / `--version`.

## Rewrote `dir` (WIP)

* Added two more listing formats: one for the look and feel from Windows's `dir` command, one for the GNU ls's output;
* Reads file permissions, owner;
* Regular expressions;
* Add a bit more colors to the output!

While the progress is going fine, the same is not for the performance. Unstripped build shows that:

* CMD + Commands-Collection listing only took 0.003s - pretty much the same with `ls`;
* While the GNU format took much more: 0.018 to 0.021s - changes over time.

## The removal of Makefiles and the raise of fpmake

[fpmake](https://wiki.freepascal.org/FPMake) is not a new thing, it is used widely in FPC source code alongside with Makefile.fpc.

fpmake is more flexible than fpcmake (which reads Makefile.fpc and generates Makefile):

* Customizable without having to open Makefile or Contributing.md;
* JSON for custom compiler options, what to compile, and more!
* Does not need anything else than FPC with some packages (which are all installed by default);
* Removes the pain of Makefile (Makefile regeneration, OS-dependent, syntax etc);
* Can generate files;
* Clean output

The usage can be found at the project's README.

## Other new features

* Added type aliases via macro usages;
* Added file system attribute getters (UNIX-only for now);
* Added `sysinf` unit to retrieve some infos about the system (UNIX-only for now);
* Shared code for `rm`-`rmdir` (WIP) and `mkdir`-`touch`
* Added `uname` and `uptime`: UNIX only
* `rm`\* now accepts regular expressions